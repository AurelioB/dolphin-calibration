import{v as $,w as P,x as q,E as w,y as C,H as F,z as H,A as Z,B as z,C as O,D,F as L,G as h,U as G,I as J,J as K,K as Q,b as m,L as V,S as B,M as U,N as W,g as E,O as X,P as M,Q as j,R as p,T as k,V as x,W as ee,X as re,Y as se,Z as ae,_ as ne,$ as ie,a0 as te,a1 as fe,f as ue,a2 as le,a3 as ce,a4 as _e}from"./Bly0QPQn.js";import{a as ve,g as be}from"./Bcty0cuv.js";function Ie(e,s,[a,r]=[0,0]){P&&a===0&&q();var i=e,n=null,_=null,f=G,o=a>0?w:0,d=!1;const v=(u,l=!0)=>{d=!0,I(l,u)},I=(u,l)=>{if(f===(f=u))return;let c=!1;if(P&&r!==-1){if(a===0){const b=C(i);b===F?r=0:b===H?r=1/0:(r=parseInt(b.substring(1)),r!==r&&(r=f?1/0:-1))}const A=r>a;!!f===A&&(i=Z(),z(i),O(!1),c=!0,r=-1)}f?(n?D(n):l&&(n=L(()=>l(i))),_&&h(_,()=>{_=null})):(_?D(_):l&&(_=L(()=>l(i,[a+1,r]))),n&&h(n,()=>{n=null})),c&&O(!0)};$(()=>{d=!1,s(v),d||I(null,null)},o),P&&(i=J)}function Y(e,s){return e===s||e?.[B]===s}function ge(e={},s,a,r){return K(()=>{var i,n;return Q(()=>{i=n,n=[],m(()=>{e!==a(...n)&&(s(e,...n),i&&Y(a(...i),e)&&s(null,...i))})}),()=>{V(()=>{n&&Y(a(...n),e)&&s(null,...n)})}}),e}let T=!1,R=Symbol();function Te(e,s,a){const r=a[s]??={store:null,source:W(void 0),unsubscribe:U};if(r.store!==e&&!(R in a))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=U;else{var i=!0;r.unsubscribe=ve(e,n=>{i?r.source.v=n:M(r.source,n)}),i=!1}return e&&R in a?be(e):E(r.source)}function Ee(){const e={};function s(){X(()=>{for(var a in e)e[a].unsubscribe();j(e,R,{enumerable:!1,value:!0})})}return[e,s]}function Ae(e,s,a){return e.set(a),s}function de(e){var s=T;try{return T=!1,[e(),T]}finally{T=s}}function Pe(e,s,a,r){var i=!ne||(a&ie)!==0,n=(a&te)!==0,_=(a&_e)!==0,f=r,o=!0,d=()=>(o&&(o=!1,f=_?m(r):r),f),v;if(n){var I=B in e||fe in e;v=p(e,s)?.set??(I&&s in e?t=>e[s]=t:void 0)}var u,l=!1;n?[u,l]=de(()=>e[s]):u=e[s],u===void 0&&r!==void 0&&(u=d(),v&&(i&&le(),v(u)));var c;if(i?c=()=>{var t=e[s];return t===void 0?d():(o=!0,t)}:c=()=>{var t=e[s];return t!==void 0&&(f=void 0),t===void 0?f:t},i&&(a&k)===0)return c;if(v){var A=e.$$legacy;return function(t,g){return arguments.length>0?((!i||!g||A||l)&&v(g?c():t),t):c()}}var b=!1,S=((a&ce)!==0?ue:ae)(()=>(b=!1,c()));n&&E(S);var y=re;return function(t,g){if(arguments.length>0){const N=g?E(S):i&&n?x(t):t;return M(S,N),b=!0,f!==void 0&&(f=N),t}return ee&&b||(y.f&se)!==0?S.v:E(S)}}export{Te as a,ge as b,Ae as c,Ie as i,Pe as p,Ee as s};
